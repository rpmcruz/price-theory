<!DOCTYPE html>
<html>
<head>
<title>Elasticity game</title>
<style>
#plot {display:inline-block; font-size:14px;}
.axis path, .axis line {fill:none; stroke:#000; shape-rendering:crispEdges;}
line.myline {stroke:blue; stroke-width: 2px;}
line.myline:hover {cursor:ns-resize;}
</style>
</head>

<body>
<div id="plot"></div>

<script src="../pkgs/d3.min.js"></script>
<script>
// CREATE PLOT

var width = 350, height = 280;
var margin = {top: 20, right: 20, bottom: 30, left: 40},
    innerwidth = width - margin.left - margin.right,
    innerheight = height - margin.top - margin.bottom;

var x = d3.scale.linear().domain([0, 100]).range([0, innerwidth]);
var y = d3.scale.linear().domain([0, 100]).range([innerheight, 0]);

var xaxis = d3.svg.axis().scale(x).orient('bottom').ticks(4);
var yaxis = d3.svg.axis().scale(y).orient('left').ticks(4);

var svg = d3.select('#plot').append('svg')
    .attr('width', width)
    .attr('height', height)
    .append('g')
        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

svg.append('g')
    .attr('class', 'axis')
    .attr('transform', 'translate(0,' + innerheight + ')')
    .call(xaxis)
    .append('text')
        .attr('x', innerwidth)
        .attr('y', -6)
        .style('text-anchor', 'end')
        .text('X');
svg.append('g')
    .attr('class', 'axis')
    .call(yaxis)
    .append('text')
        .attr('transform', 'rotate(-90)')
        .attr('y', 6)
        .attr('dy', '.71em')
        .style('text-anchor', 'end')
        .text('Y');

// ADD LINES

var line = svg.append('line');
line.attr('class', 'myline')
    .attr('x1', x(0)).attr('y1', y(100)).attr('x2', x(100)).attr('y2', y(0));
var line = svg.append('line');
line.attr('class', 'myline')
    .attr('x1', x(0)).attr('y1', y(0)).attr('x2', x(100)).attr('y2', y(100))
    .on('mousedown', function() {
        var w = d3.select(window)
            .on('mousemove', function() {
                line.attr('y1', function() {return line.attr('y1')+d3.event.movementY});
            })
            .on('mouseup', function() {
                w.on("mousemove", null).on("mouseup", null);
            });
    });
</script>
</body>
</html>
